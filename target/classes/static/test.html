<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitunix Scalper Bot - Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #ffffff;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .status {
            background-color: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .success {
            color: #4CAF50;
        }
        .error {
            color: #f44336;
        }
        .info {
            color: #2196F3;
        }
        .button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background-color: #45a049;
        }
        .api-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .api-card {
            background-color: #333;
            padding: 15px;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ Bitunix Scalper Bot</h1>
            <p class="success">âœ… Application is running successfully!</p>
        </div>

        <div class="status">
            <h2>ğŸ“Š System Status</h2>
            <p class="success">âœ… Web server is running on port 8080</p>
            <p class="success">âœ… Rate Limiting system is active (7 requests/sec)</p>
            <p class="info">â„¹ï¸ Using demo data due to API restrictions</p>
        </div>

        <div class="status">
            <h2>ğŸ”— Available Endpoints</h2>
            <a href="/" class="button">Main Dashboard</a>
            <a href="/api/test/status" class="button">Test API</a>
            <a href="/api/rate-limiter/status" class="button">Rate Limiter Status</a>
            <a href="/h2-console" class="button">Database Console</a>
        </div>

        <div class="status">
            <h2>ğŸ“ˆ Rate Limiter Status</h2>
            <div class="api-status" id="rateLimiterStatus">
                <div class="api-card">
                    <h3>Bitunix API</h3>
                    <p>Status: <span class="success">Active</span></p>
                    <p>Limit: 7 requests/sec</p>
                </div>
                <div class="api-card">
                    <h3>Binance API</h3>
                    <p>Status: <span class="success">Active</span></p>
                    <p>Limit: 7 requests/sec</p>
                </div>
                <div class="api-card">
                    <h3>CoinGecko API</h3>
                    <p>Status: <span class="success">Active</span></p>
                    <p>Limit: 7 requests/sec</p>
                </div>
                <div class="api-card">
                    <h3>Trading Cycle</h3>
                    <p>Status: <span class="success">Active</span></p>
                    <p>Limit: 7 requests/sec</p>
                </div>
            </div>
        </div>

        <div class="status">
            <h2>ğŸ¯ Features</h2>
            <ul>
                <li class="success">âœ… Rate Limiting (7 requests/sec)</li>
                <li class="success">âœ… Multiple API support (Bitunix, Binance, CoinGecko)</li>
                <li class="success">âœ… Technical Analysis</li>
                <li class="success">âœ… Trading Strategies</li>
                <li class="success">âœ… Web Dashboard</li>
                <li class="success">âœ… Error Handling</li>
                <li class="success">âœ… Demo Data Fallback</li>
            </ul>
        </div>
    </div>

    <script>
        // Auto-refresh rate limiter status
        function updateRateLimiterStatus() {
            fetch('/api/rate-limiter/status')
                .then(response => response.json())
                .then(data => {
                    console.log('Rate Limiter Status:', data);
                })
                .catch(error => {
                    console.log('Error fetching rate limiter status:', error);
                });
        }

        // Update every 5 seconds
        setInterval(updateRateLimiterStatus, 5000);
        updateRateLimiterStatus();
    </script>
</body>
</html>
